# í…ŒìŠ¤íŠ¸ ë„êµ¬ í˜ì´ì§€ êµ¬í˜„ ê³„íš

> ì‘ì„±ì¼: 2026-01-20
> ìµœì¢… ìˆ˜ì •: 2026-01-20
> ìƒíƒœ: Phase 1-4 êµ¬í˜„ ì™„ë£Œ, Phase 5-6 ì§„í–‰ ì˜ˆì •

## ê°œìš”

ê¸°ì¡´ `scraped_data` í´ë”ì˜ ìˆ˜ì§‘ëœ Instagram ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ API ë¹„ìš© ì—†ì´ ì§€ë„/ìºëŸ¬ì…€ í‘œì‹œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì „ìš© í˜ì´ì§€ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

### ëª©ì 
- Apify(ìŠ¤í¬ë˜í•‘), Mistral(OCR/LLM) API í˜¸ì¶œ ì—†ì´ í…ŒìŠ¤íŠ¸ ì§„í–‰
- ê°œë°œ ê³¼ì •ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ì œê³µ
- ì§€ë„ ë§ˆì»¤ ë° ìºëŸ¬ì…€ ì¹´ë“œ í‘œì‹œ ê²€ì¦

---

## 1. MusicFeedPlatform DB í•„ìˆ˜ í•„ë“œ

ì§€ë„/ìºëŸ¬ì…€ì— í‘œì‹œë˜ë ¤ë©´ ë‹¤ìŒ í•„ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤:

### í•„ìˆ˜ í•„ë“œ (ê³ ì •ê°’)

| í•„ë“œëª… | íƒ€ì… | ê°’ | ì„¤ëª… |
|--------|------|-----|------|
| `category` | VARCHAR | `'pomfs_ai'` | AI ìˆ˜ì§‘ ì¹´í…Œê³ ë¦¬ |
| `genre` | VARCHAR | `'pomfs_ai'` | AI ìˆ˜ì§‘ ì¥ë¥´ |
| `post_kind` | VARCHAR | `'event'` | ê²Œì‹œë¬¼ íƒ€ì… |
| `is_draft` | BOOLEAN | `False` | ìë™ ê²Œì‹œ ìƒíƒœ |
| `user_id` | VARCHAR | `'pomfs_ai'` | AI ì‚¬ìš©ì ID |

### í•„ìˆ˜ í•„ë“œ (ì…ë ¥ê°’)

| í•„ë“œëª… | íƒ€ì… | ì„¤ëª… | ìºëŸ¬ì…€ | ì§€ë„ |
|--------|------|------|:------:|:----:|
| `event_name` | VARCHAR | ì´ë²¤íŠ¸ ì œëª© | âœ… | âœ… |
| `event_venue` | VARCHAR | ì¥ì†Œëª… | âœ… | âœ… |
| `event_date` | TIMESTAMP | ì´ë²¤íŠ¸ ì¼ì‹œ | âœ… | âœ… |
| `image_url` | VARCHAR | GCS ì´ë¯¸ì§€ URL | âœ… | - |
| `latitude` | DECIMAL | ìœ„ë„ ì¢Œí‘œ | - | âœ… |
| `longitude` | DECIMAL | ê²½ë„ ì¢Œí‘œ | - | âœ… |
| `event_country` | VARCHAR | êµ­ê°€ ì½”ë“œ (KR, JP, US) | - | âœ… |

### ì„ íƒ í•„ë“œ

| í•„ë“œëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| `event_time` | VARCHAR | ì‹œê°„ (HH:MM í˜•ì‹) |
| `event_location` | VARCHAR | ìƒì„¸ ì£¼ì†Œ |
| `performing_artists` | TEXT[] | ì•„í‹°ìŠ¤íŠ¸ ë°°ì—´ |
| `formatted_address` | VARCHAR | Geocoding ê²°ê³¼ ì£¼ì†Œ |
| `place_id` | VARCHAR | Google Place ID |
| `instagram_link` | VARCHAR | ì›ë³¸ Instagram URL |

---

## 2. scraped_data í´ë” êµ¬ì¡°

```
scraped_data/
â”œâ”€â”€ 2026-01-19/              # ë‚ ì§œë³„ í´ë”
â”‚   â””â”€â”€ {username}/          # ê³„ì •ë³„ í´ë”
â”‚       â”œâ”€â”€ {shortcode}_0.jpg      # ì´ë¯¸ì§€ íŒŒì¼
â”‚       â”œâ”€â”€ {shortcode}_0_ocr.txt  # OCR ê²°ê³¼ (ìˆëŠ” ê²½ìš°)
â”‚       â””â”€â”€ {shortcode}_1.jpg      # ì¶”ê°€ ì´ë¯¸ì§€
â””â”€â”€ 2026-01-20/
    â”œâ”€â”€ 072pyj/
    â”œâ”€â”€ 7hase5h1ft/
    â”œâ”€â”€ afro_chang/
    â””â”€â”€ ... (ë‹¤ìˆ˜ ê³„ì •)
```

---

## 3. GCS ì—…ë¡œë“œ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ê°’ |
|------|-----|
| ë²„í‚·ëª… | `communitystorage2` |
| ê²½ë¡œ íŒ¨í„´ | `ai-post-img/pomfs_ai/{timestamp}-{uuid}-{filename}` |
| ì§€ì› í¬ë§· | JPG, PNG, WebP |
| ì ‘ê·¼ ê¶Œí•œ | ê³µê°œ URL (Uniform Bucket-Level Access) |

### í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜

- `GOOGLE_CLOUD_PROJECT_ID`
- `GOOGLE_CLOUD_BUCKET_NAME`
- `GOOGLE_CLOUD_CREDENTIALS`

---

## 4. í…ŒìŠ¤íŠ¸ í˜ì´ì§€ UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§ª í…ŒìŠ¤íŠ¸ ë„êµ¬                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [1. ì´ë¯¸ì§€ ì„ íƒ]                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“… ë‚ ì§œ ì„ íƒ  â”‚  â”‚ ğŸ‘¤ ê³„ì • ì„ íƒ  â”‚  â”‚ ğŸ–¼ï¸ ì´ë¯¸ì§€ì„ íƒ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                             â”‚
â”‚  [ì„ íƒëœ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°]                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚                                         â”‚                â”‚
â”‚  â”‚         (ì´ë¯¸ì§€ ì¸ë„¤ì¼ í‘œì‹œ)              â”‚                â”‚
â”‚  â”‚                                         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚  [2. ì´ë²¤íŠ¸ ì •ë³´ ì…ë ¥]                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì´ë²¤íŠ¸ëª…: [                                    ]       â”‚ â”‚
â”‚  â”‚ ì¥ì†Œëª…:   [                                    ]       â”‚ â”‚
â”‚  â”‚ ìƒì„¸ì£¼ì†Œ: [                                    ]       â”‚ â”‚
â”‚  â”‚ ë‚ ì§œ:     [YYYY-MM-DD]  ì‹œê°„: [HH:MM]                  â”‚ â”‚
â”‚  â”‚ êµ­ê°€:     [KR â–¼]                                       â”‚ â”‚
â”‚  â”‚ ì¢Œí‘œ:     ìœ„ë„ [        ]  ê²½ë„ [        ]             â”‚ â”‚
â”‚  â”‚           [ğŸ“ ì£¼ì†Œë¡œ ì¢Œí‘œ ìë™ ê²€ìƒ‰]                    â”‚ â”‚
â”‚  â”‚ ì•„í‹°ìŠ¤íŠ¸: [                                    ]       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  [3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰]                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ğŸ“¤ GCS ì—…ë¡œë“œ    â”‚  â”‚ ğŸ’¾ DB ì €ì¥      â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ ğŸš€ í•œë²ˆì— ì²˜ë¦¬ (ì—…ë¡œë“œ + ì €ì¥)            â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚  [4. ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°]                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ğŸ—ºï¸ ì§€ë„ ë¯¸ë¦¬ë³´ê¸°          ğŸ“± ìºëŸ¬ì…€ ì¹´ë“œ ë¯¸ë¦¬ë³´ê¸°       â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚  â”‚  â”‚    (ì§€ë„ ë§ˆì»¤)   â”‚      â”‚  ì´ë²¤íŠ¸ ì¹´ë“œ í˜•íƒœ    â”‚      â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. í•„ìš”í•œ API ì—”ë“œí¬ì¸íŠ¸

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|-----------|--------|------|
| `/test_tool` | GET | í…ŒìŠ¤íŠ¸ ë„êµ¬ í˜ì´ì§€ ë Œë”ë§ |
| `/api/test/scraped_folders` | GET | scraped_data ë‚ ì§œ/ê³„ì • ëª©ë¡ ì¡°íšŒ |
| `/api/test/images/<date>/<username>` | GET | íŠ¹ì • ê³„ì •ì˜ ì´ë¯¸ì§€ ëª©ë¡ ì¡°íšŒ (shortcode í¬í•¨) |
| `/api/test/get_event_data/<shortcode>` | GET | ğŸ†• Neon DBì—ì„œ ì´ë²¤íŠ¸ ë¶„ì„ ë°ì´í„° ì¡°íšŒ |
| `/api/test/country_samples` | GET | ğŸ†• êµ­ê°€ë³„ ìƒ˜í”Œ ë² ë‰´ ë°ì´í„° (ëœë¤ ì„ íƒ ê°€ëŠ¥) |
| `/api/test/upload_and_save` | POST | GCS ì—…ë¡œë“œ + DB ì €ì¥ í•œë²ˆì— ì²˜ë¦¬ |
| `/api/test/list_test_data` | GET | pomfs_ai í…ŒìŠ¤íŠ¸ ë°ì´í„° ëª©ë¡ ì¡°íšŒ |
| `/api/test/clear_all` | POST | ì „ì²´ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ |
| `/api/test/delete_selected` | POST | ì„ íƒëœ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ |

### API ìƒì„¸

#### GET `/api/test/scraped_folders`
```json
{
  "success": true,
  "dates": ["2026-01-20", "2026-01-19"],
  "folders": {
    "2026-01-20": ["072pyj", "7hase5h1ft", "afro_chang", ...],
    "2026-01-19": [...]
  }
}
```

#### GET `/api/test/images/2026-01-20/072pyj`
```json
{
  "success": true,
  "images": [
    {"filename": "BiTkXtIlStA_0.jpg", "path": "scraped_data/2026-01-20/072pyj/BiTkXtIlStA_0.jpg", "shortcode": "BiTkXtIlStA"},
    {"filename": "BmLNljjFzDg_0.jpg", "path": "scraped_data/2026-01-20/072pyj/BmLNljjFzDg_0.jpg", "shortcode": "BmLNljjFzDg"}
  ]
}
```

#### GET `/api/test/get_event_data/<shortcode>` ğŸ†•
Neon DBì˜ scraped_posts í…Œì´ë¸”ì—ì„œ shortcodeë¡œ ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

**ì‘ë‹µ (ë°ì´í„° ìˆìŒ):**
```json
{
  "success": true,
  "data": {
    "event_name": "TECHNO NIGHT Vol.3",
    "event_venue": "í´ëŸ½ ë¯¹ìŠ¤",
    "event_location": "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™",
    "event_date": "2026-01-25",
    "event_time": "22:00",
    "event_country": "KR",
    "latitude": 37.5012,
    "longitude": 127.0396,
    "artists": ["DJ A", "DJ B"],
    "content": "ì›ë³¸ ìº¡ì…˜ í…ìŠ¤íŠ¸...",
    "source_username": "072pyj"
  }
}
```

**ì‘ë‹µ (ë°ì´í„° ì—†ìŒ):**
```json
{
  "success": false,
  "error": "Data not found",
  "shortcode": "ABC123xyz"
}
```

#### GET `/api/test/country_samples` ğŸ†•
êµ­ê°€ë³„ ìƒ˜í”Œ ë² ë‰´ ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì§€ë„ í…ŒìŠ¤íŠ¸ìš© ì‹¤ì œ ì¢Œí‘œ í¬í•¨.

**íŒŒë¼ë¯¸í„°:**
- `country`: KR, JP, US (ê¸°ë³¸ê°’: KR)
- `random`: true/false (ê¸°ë³¸ê°’: false) - ëœë¤ ìƒ˜í”Œ 1ê°œ ë°˜í™˜

**ì‘ë‹µ (random=true):**
```json
{
  "success": true,
  "country": "KR",
  "sample": {
    "event_name": "HOUSE MUSIC FESTIVAL",
    "event_venue": "í´ëŸ½ ì˜¥íƒ€ê³¤",
    "event_location": "ì„œìš¸ ê°•ë‚¨êµ¬ ë…¼í˜„ë™ 50-3",
    "latitude": 37.5110,
    "longitude": 127.0340
  }
}
```

**ì‘ë‹µ (random=false):**
```json
{
  "success": true,
  "country": "KR",
  "samples": [
    {"event_name": "...", "event_venue": "í´ëŸ½ ë¯¹ìŠ¤", ...},
    {"event_name": "...", "event_venue": "í´ëŸ½ ì˜¥íƒ€ê³¤", ...},
    {"event_name": "...", "event_venue": "í´ëŸ½ ë³¼íŠ¸", ...},
    {"event_name": "...", "event_venue": "í´ëŸ½ ì•„ë ˆë‚˜", ...},
    {"event_name": "...", "event_venue": "ì˜¬ë¦¼í”½ê³µì›", ...}
  ]
}
```

#### POST `/api/test/upload_and_save`
```json
{
  "image_path": "scraped_data/2026-01-20/072pyj/BiTkXtIlStA_0.jpg",
  "event_name": "TECHNO NIGHT Vol.3",
  "event_venue": "í´ëŸ½ ë¯¹ìŠ¤",
  "event_location": "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45",
  "event_date": "2026-01-25",
  "event_time": "22:00",
  "event_country": "KR",
  "latitude": 37.5012,
  "longitude": 127.0396,
  "artists": ["DJ A", "DJ B"]
}
```

---

## 6. ìƒ˜í”Œ í…ŒìŠ¤íŠ¸ ë°ì´í„°

### í•œêµ­ ì´ë²¤íŠ¸
```json
{
  "event_name": "TECHNO NIGHT Vol.3",
  "event_venue": "í´ëŸ½ ë¯¹ìŠ¤",
  "event_location": "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45",
  "event_date": "2026-01-25",
  "event_time": "22:00",
  "event_country": "KR",
  "latitude": 37.5012,
  "longitude": 127.0396,
  "artists": ["DJ A", "DJ B"]
}
```

### ì¼ë³¸ ì´ë²¤íŠ¸
```json
{
  "event_name": "Underground Session",
  "event_venue": "WOMB",
  "event_location": "æ±äº¬éƒ½æ¸‹è°·åŒºå††å±±ç”º2-16",
  "event_date": "2026-01-26",
  "event_time": "23:00",
  "event_country": "JP",
  "latitude": 35.6580,
  "longitude": 139.6922,
  "artists": ["Artist X"]
}
```

### ë¯¸êµ­ ì´ë²¤íŠ¸
```json
{
  "event_name": "LA House Party",
  "event_venue": "Sound Nightclub",
  "event_location": "1642 N Las Palmas Ave, Los Angeles, CA",
  "event_date": "2026-01-27",
  "event_time": "21:00",
  "event_country": "US",
  "latitude": 34.1015,
  "longitude": -118.3292,
  "artists": ["DJ Z"]
}
```

---

## 7. ëŒ€ì‹œë³´ë“œ ì—°ë™

ëŒ€ì‹œë³´ë“œ(index.html)ì— í…ŒìŠ¤íŠ¸ ë„êµ¬ ë²„íŠ¼ ì¶”ê°€:

```html
<a href="/test_tool" class="nav-btn">
  ğŸ§ª í…ŒìŠ¤íŠ¸ ë„êµ¬
</a>
```

---

## 8. í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ ê¸°ëŠ¥

í…ŒìŠ¤íŠ¸ í›„ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ê³  ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ ì‚­ì œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

### 8.1 ì‚­ì œ ëª¨ë“œ

#### ëª¨ë“œ 1: ì „ì²´ ì‚­ì œ (Quick Clear)
- **ìš©ë„**: ëª¨ë“  í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ì •ë¦¬
- **ë™ì‘**: `category = 'pomfs_ai'` AND `genre = 'pomfs_ai'` ì¸ ëª¨ë“  ì´ë²¤íŠ¸ ì‚­ì œ
- **UI**: ë¹¨ê°„ìƒ‰ "ğŸ—‘ï¸ ì „ì²´ ì´ˆê¸°í™”" ë²„íŠ¼

#### ëª¨ë“œ 2: ì„ íƒì  ì‚­ì œ (Select & Delete)
- **ìš©ë„**: íŠ¹ì • í…ŒìŠ¤íŠ¸ ë°ì´í„°ë§Œ í™•ì¸ í›„ ì‚­ì œ
- **ë™ì‘**: í…Œì´ë¸”ì—ì„œ ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ â†’ ì‚­ì œ
- **UI**: í…ŒìŠ¤íŠ¸ ë°ì´í„° ëª©ë¡ í…Œì´ë¸” + ì²´í¬ë°•ìŠ¤ + "ğŸ—‘ï¸ ì„ íƒ ì‚­ì œ" ë²„íŠ¼

### 8.2 í•„ìš”í•œ API ì—”ë“œí¬ì¸íŠ¸

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|-----------|--------|------|
| `/api/test/list_test_data` | GET | pomfs_ai ì¹´í…Œê³ ë¦¬ ì´ë²¤íŠ¸ ëª©ë¡ ì¡°íšŒ |
| `/api/test/clear_all` | POST | ì „ì²´ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ |
| `/api/test/delete_selected` | POST | ì„ íƒëœ ì´ë²¤íŠ¸ ì‚­ì œ (ê¸°ì¡´ delete_events ì¬ì‚¬ìš©) |

### 8.3 API ìƒì„¸

#### GET `/api/test/list_test_data`
```json
{
  "success": true,
  "count": 3,
  "events": [
    {
      "id": 123,
      "event_name": "TECHNO NIGHT Vol.3",
      "event_venue": "í´ëŸ½ ë¯¹ìŠ¤",
      "event_date": "2026-01-25T22:00:00",
      "event_country": "KR",
      "image_url": "https://storage.googleapis.com/...",
      "created_at": "2026-01-20T10:30:00"
    }
  ]
}
```

#### POST `/api/test/clear_all`
```json
// Request: (ë¹ˆ body)
// Response:
{
  "success": true,
  "deleted": 15
}
```

#### POST `/api/test/delete_selected`
```json
// Request:
{
  "ids": [123, 124, 125]
}
// Response:
{
  "success": true,
  "deleted": 3
}
```

### 8.4 UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š 4. í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [ğŸ”„ ìƒˆë¡œê³ ì¹¨]  [ğŸ—‘ï¸ ì „ì²´ ì´ˆê¸°í™”]  [ğŸ—‘ï¸ ì„ íƒ ì‚­ì œ]             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜‘ â”‚ ID  â”‚ ì´ë²¤íŠ¸ëª…       â”‚ ì¥ì†Œ    â”‚ ë‚ ì§œ   â”‚ êµ­ê°€  â”‚ ìƒì„±ì¼ â”‚â”‚
â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ â˜ â”‚ 123 â”‚ TECHNO NIGHT   â”‚ í´ëŸ½ë¯¹ìŠ¤ â”‚ 01-25  â”‚ ğŸ‡°ğŸ‡· KR â”‚ 10:30 â”‚â”‚
â”‚  â”‚ â˜ â”‚ 124 â”‚ Underground    â”‚ WOMB    â”‚ 01-26  â”‚ ğŸ‡¯ğŸ‡µ JP â”‚ 10:35 â”‚â”‚
â”‚  â”‚ â˜ â”‚ 125 â”‚ LA House Party â”‚ Sound   â”‚ 01-27  â”‚ ğŸ‡ºğŸ‡¸ US â”‚ 10:40 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚  ì´ 3ê°œ ì´ë²¤íŠ¸ | ì„ íƒ: 0ê°œ                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.5 ì•ˆì „ ì¥ì¹˜

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì‚­ì œ í™•ì¸ ëŒ€í™”ìƒì | "ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?" í™•ì¸ í•„ìˆ˜ |
| ì‚­ì œ ê²°ê³¼ í‘œì‹œ | "Nê°œ ì´ë²¤íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ |
| ì „ì²´ ì‚­ì œ 2ì¤‘ í™•ì¸ | ì „ì²´ ì‚­ì œ ì‹œ í•œë²ˆ ë” í™•ì¸ ìš”ì²­ |
| ì‚­ì œ í›„ ìë™ ìƒˆë¡œê³ ì¹¨ | ëª©ë¡ ìë™ ê°±ì‹  |

### 8.6 ê¸°ì¡´ ì½”ë“œ ì¬ì‚¬ìš©

| ê¸°ëŠ¥ | ê¸°ì¡´ ì½”ë“œ | í™œìš© ë°©ë²• |
|------|-----------|-----------|
| ì´ë²¤íŠ¸ ì‚­ì œ | `db_helpers.delete_events(ids)` | ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš© |
| ì´ë²¤íŠ¸ ì¡°íšŒ | `db_helpers.get_dev_events()` | í•„í„° ì¡°ê±´ ì¶”ê°€ |
| ì‚­ì œ API | `/api/registered/delete` | íŒ¨í„´ ì°¸ì¡° |

---

## 9. êµ¬í˜„ ìˆœì„œ

1. **Phase 1: ê¸°ë³¸ í˜ì´ì§€ êµ¬ì¡°** âœ… ì™„ë£Œ
   - [x] `templates/test_tool.html` ìƒì„±
   - [x] ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ë° ìŠ¤íƒ€ì¼ ì ìš©
   - [x] ëŒ€ì‹œë³´ë“œì— ë²„íŠ¼ ì¶”ê°€

2. **Phase 2: ì´ë¯¸ì§€ ë¸Œë¼ìš°ì €** âœ… ì™„ë£Œ
   - [x] `/api/test/scraped_folders` API êµ¬í˜„
   - [x] `/api/test/images/<date>/<username>` API êµ¬í˜„
   - [x] ë‚ ì§œ/ê³„ì •/ì´ë¯¸ì§€ ì„ íƒ UI êµ¬í˜„

3. **Phase 3: ì´ë²¤íŠ¸ ì •ë³´ ì…ë ¥** âœ… ì™„ë£Œ
   - [x] ì´ë²¤íŠ¸ ì •ë³´ ì…ë ¥ í¼ êµ¬í˜„
   - [x] ìƒ˜í”Œ ë°ì´í„° ì›í´ë¦­ ì…ë ¥ (í•œêµ­/ì¼ë³¸/ë¯¸êµ­)
   - [x] êµ­ê°€ ì½”ë“œ ì„ íƒ ë“œë¡­ë‹¤ìš´

4. **Phase 4: í…ŒìŠ¤íŠ¸ ì‹¤í–‰** âœ… ì™„ë£Œ
   - [x] `/api/test/upload_and_save` API êµ¬í˜„
   - [x] GCS ì—…ë¡œë“œ ë¡œì§ ì—°ë™
   - [x] DB ì €ì¥ ë¡œì§ ì—°ë™

5. **Phase 5-A: scraped_data ìë™ ì±„ìš°ê¸°** âœ… ì™„ë£Œ (2026-01-20)
   - [x] `/api/test/get_event_data/<shortcode>` API êµ¬í˜„
   - [x] Neon DB scraped_postsì—ì„œ ì´ë²¤íŠ¸ ë°ì´í„° ë¡œë“œ
   - [x] ì´ë¯¸ì§€ ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ í¼ì— ë°ì´í„° ì±„ìš°ê¸°
   - [x] shortcode ê¸°ë°˜ ë°ì´í„° ì¡°íšŒ

6. **Phase 5-B: êµ­ê°€ë³„ ëœë¤ ìƒ˜í”Œ í”„ë¦¬ì…‹** âœ… ì™„ë£Œ (2026-01-20)
   - [x] `/api/test/country_samples` API êµ¬í˜„
   - [x] êµ­ê°€ë³„ 5ê°œ ìƒ˜í”Œ ë² ë‰´ ë°ì´í„° (í•œêµ­/ì¼ë³¸/ë¯¸êµ­)
   - [x] ëœë¤ ì„ íƒ ê¸°ëŠ¥ (`?random=true`)
   - [x] ì§€ë„ í…ŒìŠ¤íŠ¸ìš© ì‹¤ì œ ì¢Œí‘œ ë°ì´í„°

7. **Phase 5-C: í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬** âœ… ì´ì „ êµ¬í˜„ë¨
   - [x] `/api/test/list_test_data` API êµ¬í˜„
   - [x] `/api/test/clear_all` API êµ¬í˜„
   - [x] `/api/test/delete_selected` API êµ¬í˜„
   - [x] í…ŒìŠ¤íŠ¸ ë°ì´í„° ëª©ë¡ í…Œì´ë¸” UI
   - [x] ì „ì²´ ì‚­ì œ / ì„ íƒ ì‚­ì œ ê¸°ëŠ¥
   - [x] ì‚­ì œ í™•ì¸ ëª¨ë‹¬

8. **Phase 6: ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°** ğŸ“‹ ê³„íšë¨
   - [ ] ì§€ë„ ë§ˆì»¤ ë¯¸ë¦¬ë³´ê¸° (Leaflet.js ë˜ëŠ” Google Maps)
   - [ ] ìºëŸ¬ì…€ ì¹´ë“œ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸

---

## 10. ê´€ë ¨ ë¬¸ì„œ

- `docs/GEOCODING_STRATEGY.md` - ì¢Œí‘œ ê²€ìƒ‰ 3ë‹¨ê³„ ì „ëµ
- `DEV_NOTES.md` - DB ìŠ¤í‚¤ë§ˆ ìƒì„¸ ì •ë³´
- `docs/API_ENDPOINTS.md` - ê¸°ì¡´ API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡
- `gcs_uploader.py` - GCS ì—…ë¡œë“œ í•¨ìˆ˜ ì°¸ì¡°
- `db_helpers.py` - delete_events() í•¨ìˆ˜ ì°¸ì¡°

---

## 11. Phase 7: AI ìë™ ì´ë²¤íŠ¸ ì •ë³´ ì…ë ¥

> ì‘ì„±ì¼: 2026-01-21
> ìƒíƒœ: ğŸ“‹ ê³„íš ë‹¨ê³„

### 11.1 ê¸°ëŠ¥ ê°œìš”

ë‚ ì§œ ì„ íƒ â†’ ê³„ì • ì„ íƒ ì‹œ AIê°€ ìˆ˜ì§‘/ë¶„ì„ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ë²¤íŠ¸ ì •ë³´ ì…ë ¥ í¼ì„ ìë™ìœ¼ë¡œ ì±„ì›Œì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

#### ì‚¬ìš©ì í”Œë¡œìš°
```
[1. ë‚ ì§œ ì„ íƒ] â†’ [2. ê³„ì • ì„ íƒ] â†’ [3. ìë™ ë°ì´í„° ë¡œë“œ] â†’ [4. í¼ ìë™ ì±„ìš°ê¸°]
      â†“              â†“                    â†“                     â†“
   2026-01-20    venue_tokyo      Neon DB ì¡°íšŒ            ì´ë²¤íŠ¸ëª…, ì¥ì†Œ,
                                                          ë‚ ì§œ, ì‹œê°„ ë“±
```

### 11.2 í˜„ì¬ ìƒíƒœ ë¶„ì„

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| scraped_data/ ì´ë¯¸ì§€ | 11,331ê°œ | ìˆ˜ì§‘ ì™„ë£Œ |
| OCR ë¶„ì„ ì™„ë£Œ | 4,001ê°œ (35%) | `*_ocr.txt` íŒŒì¼ ì¡´ì¬ |
| OCR ë¯¸ì™„ë£Œ | 7,330ê°œ (65%) | ì¬ë¶„ì„ í•„ìš” |
| Neon DB scraped_posts | 0ê°œ | âš ï¸ í…Œì´ë¸” ë¹„ì–´ìˆìŒ |
| ê¸°ì¡´ API | `/api/test/get_event_data/<shortcode>` | êµ¬í˜„ë¨ |

### 11.3 ì˜ˆìƒ ë¬¸ì œì  ë° í•´ê²°ì±…

#### ğŸ”´ ë¬¸ì œ 1: Neon DB ë°ì´í„° ì—†ìŒ (Critical)

**í˜„ìƒ**: `scraped_posts` í…Œì´ë¸”ì´ ë¹„ì–´ìˆì–´ ê³„ì • ì„ íƒ ì‹œ ì¡°íšŒí•  ë°ì´í„°ê°€ ì—†ìŒ

**ì›ì¸**: 
- ìŠ¤í¬ë˜í•‘ í›„ ì´ë¯¸ì§€ë§Œ ì €ì¥í•˜ê³  DB ì €ì¥ì€ ë³„ë„ ë‹¨ê³„
- ì¬ë¶„ì„ ê¸°ëŠ¥ì´ ì•„ì§ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

**í•´ê²°ì±…**:
1. `/reanalyze` í˜ì´ì§€ì—ì„œ ë°°ì¹˜ ì¬ë¶„ì„ ì‹¤í–‰
2. ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë„êµ¬ Section 5ì—ì„œ ì¬ë¶„ì„ ì‹œì‘
3. ìµœì†Œ ë¶„ì„ ëŒ€ìƒ: OCR ì™„ë£Œëœ 4,001ê°œ ì´ë¯¸ì§€

**ìš°ì„  ì‹¤í–‰ ëª…ë ¹**:
```bash
# ì¬ë¶„ì„ API í˜¸ì¶œ (ì„ íƒì  í•„í„°ë§)
curl -N "http://localhost:5000/api/reanalyze/start?skip_analyzed=true"
```

---

#### ğŸŸ¡ ë¬¸ì œ 2: ë¶„ì„ ì‹œê°„ ì†Œìš” (Important)

**í˜„ìƒ**: 11,331ê°œ ì´ë¯¸ì§€ ì „ì²´ ë¶„ì„ ì‹œ ìˆ˜ ì‹œê°„ ì†Œìš”

**ì›ì¸**:
- Mistral API Rate Limit (ë¶„ë‹¹ ìš”ì²­ ìˆ˜ ì œí•œ)
- ì´ë¯¸ì§€ë‹¹ OCR + LLM ë¶„ì„ = ì•½ 2-5ì´ˆ

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**:
| ëŒ€ìƒ | ê°œìˆ˜ | ì˜ˆìƒ ì‹œê°„ |
|------|------|----------|
| OCR ì™„ë£Œ ì´ë¯¸ì§€ë§Œ | 4,001ê°œ | ì•½ 2-3ì‹œê°„ |
| ì „ì²´ ì´ë¯¸ì§€ | 11,331ê°œ | ì•½ 6-8ì‹œê°„ |

**í•´ê²°ì±…**:
1. **ë‚ ì§œë³„ í•„í„°ë§**: íŠ¹ì • ë‚ ì§œë§Œ ë¶„ì„ (`?date=2026-01-20`)
2. **ê³„ì •ë³„ í•„í„°ë§**: íŠ¹ì • ê³„ì •ë§Œ ë¶„ì„ (`?account=venue_tokyo`)
3. **OCR ì™„ë£Œë§Œ**: `skip_no_ocr=true` ì˜µì…˜ìœ¼ë¡œ OCR ì—†ëŠ” ì´ë¯¸ì§€ ìŠ¤í‚µ
4. **ë°°ì¹˜ í¬ê¸° ì¡°ì ˆ**: í•œ ë²ˆì— 100ê°œì”© ì²˜ë¦¬

---

#### ğŸŸ¡ ë¬¸ì œ 3: ê³„ì • ì„ íƒ â†’ ìë™ ë¡œë“œ ë¡œì§ ë¶€ì¬ (Important)

**í˜„ìƒ**: í˜„ì¬ëŠ” ì´ë¯¸ì§€ë¥¼ ê°œë³„ ì„ íƒí•´ì•¼ë§Œ ë°ì´í„°ê°€ ë¡œë“œë¨

**ì›ì¸**: `accountSelect.onchange` ì´ë²¤íŠ¸ê°€ ì´ë¯¸ì§€ ëª©ë¡ë§Œ ë¡œë“œí•˜ê³ , ì´ë²¤íŠ¸ ë°ì´í„° ë¡œë“œëŠ” ì´ë¯¸ì§€ ì„ íƒ ì‹œì—ë§Œ ë°œìƒ

**í•´ê²°ì±… - ìƒˆ API ì¶”ê°€**:

```
GET /api/test/account_events/<date>/<username>
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "success": true,
  "account": "venue_tokyo",
  "events": [
    {
      "shortcode": "ABC123",
      "event_name": "TECHNO NIGHT",
      "event_venue": "WOMB",
      "event_date": "2026-01-25",
      "is_event": true,
      "has_ocr": true
    }
  ],
  "first_event": { /* ì²« ë²ˆì§¸ ì´ë²¤íŠ¸ ìƒì„¸ ë°ì´í„° */ }
}
```

**UI ë³€ê²½**:
- ê³„ì • ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ ì²« ë²ˆì§¸ ì´ë²¤íŠ¸ ê²Œì‹œë¬¼ ë°ì´í„° ë¡œë“œ
- ë˜ëŠ” ì´ë²¤íŠ¸ ê°ì§€ëœ ê²Œì‹œë¬¼ ëª©ë¡ í‘œì‹œ í›„ ì„ íƒ

---

#### ğŸŸ¢ ë¬¸ì œ 4: ì—¬ëŸ¬ ê²Œì‹œë¬¼ ì¤‘ ì„ íƒ ê¸°ì¤€ (Optional)

**í˜„ìƒ**: í•œ ê³„ì •ì— ì—¬ëŸ¬ ê²Œì‹œë¬¼ì´ ìˆì„ ë•Œ ì–´ë–¤ ê²ƒì„ ìë™ ì„ íƒí• ì§€ ê²°ì • í•„ìš”

**ì„ íƒ ì˜µì…˜**:

| ì˜µì…˜ | ì„¤ëª… | ì¥ì  | ë‹¨ì  |
|------|------|------|------|
| A | ê°€ì¥ ìµœì‹  ê²Œì‹œë¬¼ ìš°ì„  | ë‹¨ìˆœ, ë¹ ë¦„ | ì´ë²¤íŠ¸ ì•„ë‹ ìˆ˜ ìˆìŒ |
| B | ì´ë²¤íŠ¸ ê°ì§€ëœ ê²Œì‹œë¬¼ ìš°ì„  | ì •í™•ë„ ë†’ìŒ | ì¶”ê°€ í•„í„°ë§ í•„ìš” |
| C | ëª©ë¡ í‘œì‹œ í›„ ì‚¬ìš©ì ì„ íƒ | ìœ ì—°í•¨ | í´ë¦­ í•œ ë²ˆ ë” í•„ìš” |

**ê¶Œì¥**: **ì˜µì…˜ B** - `is_event_poster=True`ì¸ ê²Œì‹œë¬¼ ìš°ì„  ì„ íƒ

---

#### ğŸŸ¢ ë¬¸ì œ 5: ë¶„ì„ ê²°ê³¼ ì—†ëŠ” ê²Œì‹œë¬¼ (Optional)

**í˜„ìƒ**: OCR ë¯¸ì™„ë£Œ ë˜ëŠ” ì´ë²¤íŠ¸ ì•„ë‹Œ ê²Œì‹œë¬¼ ì„ íƒ ì‹œ ë°ì´í„° ì—†ìŒ

**í•´ê²°ì±…**:
1. "ë¶„ì„ ë°ì´í„° ì—†ìŒ" ë©”ì‹œì§€ í‘œì‹œ
2. "OCR ì‹¤í–‰" ë²„íŠ¼ ì œê³µ (ë‹¨ì¼ ì´ë¯¸ì§€ ë¶„ì„)
3. ìˆ˜ë™ ì…ë ¥ ëª¨ë“œë¡œ ì „í™˜ ìœ ë„

**UI ì˜ˆì‹œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ ì´ ê²Œì‹œë¬¼ì˜ ë¶„ì„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.    â”‚
â”‚                                          â”‚
â”‚  [ğŸ” ì§€ê¸ˆ ë¶„ì„í•˜ê¸°]  [âœï¸ ìˆ˜ë™ ì…ë ¥]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 11.4 í•„ìš”í•œ ì¤€ë¹„ì‚¬í•­

#### 1ë‹¨ê³„: ë°ì´í„° ì¤€ë¹„ (í•„ìˆ˜)
- [ ] ì¬ë¶„ì„ ì‹¤í–‰í•˜ì—¬ Neon DBì— ìµœì†Œ 100ê°œ ì´ìƒ ë°ì´í„° ì €ì¥
- [ ] ë¶„ì„ ê²°ê³¼ í™•ì¸: `SELECT COUNT(*) FROM scraped_posts WHERE event_name IS NOT NULL`

#### 2ë‹¨ê³„: API ê°œë°œ
- [ ] `GET /api/test/account_events/<date>/<username>` - ê³„ì •ë³„ ì´ë²¤íŠ¸ ëª©ë¡
- [ ] ê¸°ì¡´ `/api/test/get_event_data/<shortcode>` í™œìš©

#### 3ë‹¨ê³„: UI ìˆ˜ì •
- [ ] `accountSelect.onchange` ì´ë²¤íŠ¸ì— ìë™ ë¡œë“œ ë¡œì§ ì¶”ê°€
- [ ] ì´ë²¤íŠ¸ ëª©ë¡ í‘œì‹œ UI (ì˜µì…˜ C ì„ íƒ ì‹œ)
- [ ] "ë¶„ì„ ë°ì´í„° ì—†ìŒ" ìƒíƒœ ì²˜ë¦¬

---

### 11.5 ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì      â”‚     â”‚  Frontend   â”‚     â”‚  Backend        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                      â”‚
       â”‚  ë‚ ì§œ ì„ íƒ         â”‚                      â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
       â”‚                   â”‚  GET /scraped_foldersâ”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                   â”‚     ê³„ì • ëª©ë¡         â”‚
       â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                      â”‚
       â”‚  ê³„ì • ì„ íƒ         â”‚                      â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
       â”‚                   â”‚  GET /account_events â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                   â”‚                      â”‚
       â”‚                   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                   â”‚     â”‚ Neon DB: scraped_posts ì¡°íšŒ      â”‚
       â”‚                   â”‚     â”‚ WHERE source_username = account  â”‚
       â”‚                   â”‚     â”‚ AND event_name IS NOT NULL       â”‚
       â”‚                   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                      â”‚
       â”‚                   â”‚    ì´ë²¤íŠ¸ ëª©ë¡ + ìƒì„¸ â”‚
       â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                      â”‚
       â”‚  í¼ ìë™ ì±„ìš°ê¸°    â”‚                      â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚
       â”‚                   â”‚                      â”‚
       â”‚  âœ… ìˆ˜ì • í›„ ë“±ë¡   â”‚                      â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
```

---

### 11.6 êµ¬í˜„ ìˆœì„œ

| ë‹¨ê³„ | ì‘ì—… | ì˜ˆìƒ ì‹œê°„ | ì˜ì¡´ì„± |
|------|------|----------|--------|
| 1 | ì¬ë¶„ì„ ì‹¤í–‰ (ìµœì†Œ 100ê°œ) | 30ë¶„ | ì—†ìŒ |
| 2 | `/api/test/account_events` API êµ¬í˜„ | 1ì‹œê°„ | ë‹¨ê³„ 1 |
| 3 | `accountSelect.onchange` ìˆ˜ì • | 30ë¶„ | ë‹¨ê³„ 2 |
| 4 | í¼ ìë™ ì±„ìš°ê¸° ë¡œì§ | 30ë¶„ | ë‹¨ê³„ 3 |
| 5 | ì—ëŸ¬ ì²˜ë¦¬ ë° í´ë°± UI | 30ë¶„ | ë‹¨ê³„ 4 |
| 6 | í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹… | 1ì‹œê°„ | ë‹¨ê³„ 5 |

**ì´ ì˜ˆìƒ ì‹œê°„**: ì•½ 4ì‹œê°„

---

### 11.7 ê´€ë ¨ ì½”ë“œ ì°¸ì¡°

#### í˜„ì¬ accountSelect.onchange (test_tool.html)
```javascript
// í˜„ì¬: ì´ë¯¸ì§€ ëª©ë¡ë§Œ ë¡œë“œ
async function loadImages() {
    const date = document.getElementById('dateSelect').value;
    const account = document.getElementById('accountSelect').value;
    // ... ì´ë¯¸ì§€ ëª©ë¡ ë¡œë“œ
}

// ë³€ê²½ í›„: ì´ë²¤íŠ¸ ë°ì´í„°ë„ í•¨ê»˜ ë¡œë“œ
async function loadImages() {
    const date = document.getElementById('dateSelect').value;
    const account = document.getElementById('accountSelect').value;
    
    // 1. ì´ë¯¸ì§€ ëª©ë¡ ë¡œë“œ
    const images = await fetch(`/api/test/images/${date}/${account}`);
    
    // 2. ì´ë²¤íŠ¸ ë°ì´í„° ë¡œë“œ (NEW)
    const events = await fetch(`/api/test/account_events/${date}/${account}`);
    if (events.first_event) {
        autoFillForm(events.first_event);
    }
}
```

#### ê¸°ì¡´ get_event_data API (app.py)
```python
@app.route('/api/test/get_event_data/<shortcode>')
def get_event_data(shortcode):
    # Neon DBì—ì„œ shortcodeë¡œ ì¡°íšŒ
    post = db_utils.get_scraped_post_by_shortcode(shortcode)
    if post:
        return jsonify({'success': True, 'data': post})
    return jsonify({'success': False, 'error': 'Data not found'})
```

---

## 12. ì™¸ë¶€ ì°¸ê³  ìë£Œ

- [Google Maps JavaScript API](https://developers.google.com/maps/documentation/javascript) - ì§€ë„ ë§ˆì»¤ í‘œì‹œ
- [Leaflet.js](https://leafletjs.com/) - ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [Google Geocoding API](https://developers.google.com/maps/documentation/geocoding) - ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜
- [Mistral AI API Rate Limits](https://docs.mistral.ai/api/) - API í˜¸ì¶œ ì œí•œ ì •ë³´
- [PostgreSQL UPSERT](https://www.postgresql.org/docs/current/sql-insert.html#SQL-ON-CONFLICT) - ON CONFLICT ë¬¸ë²•
